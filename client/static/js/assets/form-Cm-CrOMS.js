const l=document.querySelector("#form"),i=document.querySelector("#input");document.querySelector("#submit-button");const n=document.querySelector("#subscribe-response"),a=document.querySelector("#mobile-form"),o=document.querySelector("#mobile-subscribe-response"),c=document.querySelector("#mobile-input");document.querySelector("#mobile-submit-button");const m=document.querySelector(".hidden-subscribe-text"),b=document.querySelector(".hidden-subscribe-mobile-text");function d(r){r.preventDefault();const t=i.value.toLowerCase().trim();if(t.length>80)return;const s=new RegExp("^[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,}$").test(t);try{if(s)fetch("/subscribe",{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify({email:t})}).then(e=>e.text()).then(e=>n.textContent=e).then(()=>{setTimeout(()=>{n.textContent="",i.value=""},6e3)});else{n.innerHTML="Please enter a vaild email addresss";return}}catch(e){console.log(e),n.textContent="Error occured. Please try again later"}finally{m.style.height=""}}function h(r){r.preventDefault();let t=c.value;if(t=t.toLowerCase().trim(),t.length>80)return;const s=new RegExp("^[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,}$").test(t);try{if(s)fetch("/subscribe",{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify({email:t})}).then(e=>e.text()).then(e=>o.textContent=e).then(()=>{setTimeout(()=>{o.textContent="",c.value=""},6e3)});else{o.innerHTML="Please enter a vaild email addresss";return}}catch(e){console.log(e),o.textContent="We can't process your request right now. Please try again later"}finally{b.style.height=""}}l.addEventListener("submit",d);a.addEventListener("submit",h);
